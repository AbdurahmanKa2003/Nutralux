 <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="images/favicon-32x32.png" type="image/x-icon" />

    <!-- SEO Meta Tags -->
    <title>Nutralux ‚Äî Vitamins and Supplements Store | Buy Vitamin C, Magnesium, Zinc</title>
    <meta name="description" content="Nutralux ‚Äî your reliable online store for vitamins and supplements. We offer quality products: vitamin C, magnesium, zinc, multivitamins, probiotics. Extensive catalog, detailed descriptions, fast delivery worldwide." />
    <meta name="keywords" content="Nutralux, vitamins, supplements, buy vitamins, vitamin C, magnesium, zinc, multivitamins, probiotics, health, supplement store, online vitamin store, immunity supplements, energy vitamins" />
    <meta name="author" content="Nutralux" />
    <link rel="canonical" href="https://yourwebsite.com/index.html" /> <!-- Replace with your actual website URL -->

    <!-- Open Graph Meta Tags (for social networks) -->
    <meta property="og:title" content="Nutralux ‚Äî Vitamins and Supplements Store" />
    <meta property="og:description" content="Nutralux ‚Äî your reliable online store for vitamins and supplements. We offer quality products: vitamin C, magnesium, zinc, multivitamins, probiotics. Extensive catalog, detailed descriptions, fast delivery worldwide." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourwebsite.com/index.html" /> <!-- Replace with your actual website URL -->
    <meta property="og:image" content="https://yourwebsite.com/images/avatar.png" /> <!-- Replace with URL of your main image or logo -->
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card Meta Tags (for Twitter) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Nutralux ‚Äî Vitamins and Supplements Store" />
    <meta name="twitter:description" content="Nutralux ‚Äî your reliable online store for vitamins and supplements. We offer quality products: vitamin C, magnesium, zinc, multivitamins, probiotics. Extensive catalog, detailed descriptions, fast delivery worldwide." />
    <meta name="twitter:image" content="https://yourwebsite.com/images/avatar.png" /> <!-- Replace with URL of your main image or logo -->

    <!-- box icons -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" />

    <!-- lang icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.11.0/css/flag-icons.min.css" />

    <!-- css -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Schema.org JSON-LD Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Nutralux",
      "url": "https://yourwebsite.com/", <!-- Replace with your website root URL -->
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://yourwebsite.com/catalog.html?q={search_term_string}", <!-- Replace with your search URL if available -->
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Nutralux",
      "url": "https://yourwebsite.com/", <!-- Replace with your website root URL -->
      "logo": "https://yourwebsite.com/images/favicon-32x32.png", <!-- Replace with your logo URL -->
      "sameAs": [
        "https://wa.me/905332452900",
        "https://www.tiktok.com/@nutraluxlife?_t=ZS-8yvEDo3bZth&_r=1",
        "https://t.me/nutralux",
        "https://clck.ru/3NQNkm"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+905332452900",
        "contactType": "customer service",
        "areaServed": "US"
      }
    }
    </script>
   <style>
    #chat-widget {
  position: fixed;
  bottom: 90px;
  right: 20px;
  z-index: 9999;
  display: none;
  width: 350px;
  height: 450px;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  display: flex;
  flex-direction: column;
}

#chat-fab {
  position: fixed;
  bottom: 20px;
  right: 90px;
  z-index: 10000;
  display: flex;
  width: 60px;
  height: 60px;
  background: #4CAF50;
  color: white;
  border-radius: 50%;
  justify-content: center;
  align-items: center;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.footer-icon-top {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 10001;
  background: #4CAF50;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.footer-icon-top a {
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 24px;
  line-height: 1;
}

.chat-messages {
  flex-grow: 1;
  padding: 10px 15px;
  overflow-y: auto;
  background-color: #f9f9f9;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-input-container {
  display: flex;
  padding: 10px 15px;
  border-top: 1px solid #eee;
  background-color: #fff;
  flex-shrink: 0;
}

.chat-input-container .chat-input {
  flex-grow: 1;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 5px 0 0 5px;
  margin-right: -1px;
  font-size: 14px;
}

.chat-input-container .chat-send {
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 0 5px 5px 0;
  font-weight: bold;
  flex-shrink: 0;
}

.message {
  max-width: 80%;
  padding: 6px 10px;
  border-radius: 10px;
  word-wrap: break-word;
  font-size: 14px;
}

.bot-message {
  background-color: #e0f2f1;
  align-self: flex-start;
}

.user-message {
  background-color: #4CAF50;
  color: white;
  align-self: flex-end;
}
.chat-container {
    width: 100%;
    height: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –≤—ã—Å–æ—Ç—É —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ #chat-widget */
    display: flex;
    flex-direction: column; /* –≠–ª–µ–º–µ–Ω—Ç—ã (—à–∞–ø–∫–∞, —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–≤–æ–¥) —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
    overflow: hidden; /* –í–∞–∂–Ω–æ: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤—Å–µ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ */
}    
@media (max-width: 600px) {
  #chat-widget {
    width: 90%;
    height: 80%;
    bottom: 80px;
    right: 5%;
    left: 5%;
    border-radius: 15px;
  }
}
.chat-messages::-webkit-scrollbar {
  width: 6px;
}
.chat-messages::-webkit-scrollbar-thumb {
  background-color: #4CAF50;
  border-radius: 3px;
}
    input, textarea, select {
  font-size: 16px !important;
}

html, body {
  overscroll-behavior: none;
  height: 100%;
}

#chat-widget {
  -webkit-transform: translateZ(0);
  position: fixed;
  bottom: 90px;
  right: 20px;
  z-index: 9999;
}

.chat-messages {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  flex-grow: 1;
}

@supports (-webkit-touch-callout: none) {
  #chat-widget {
    position: fixed;
    bottom: env(safe-area-inset-bottom, 90px);
  }
}
  </style>
  </head>

 <body>
    <header class="header">
        <a href="#home" class="logo">Nutralux</a>

        <i class="bx bx-menu" id="menu-icon"></i>

        <nav class="navbar">
            <a href="#about" class="active">About</a>
            <a href="#services" class="active">Services</a>
            <a href="catalog.html" class="active">Catalog</a>
            <a href="#contact" class="active">Contact</a>
            <a href="index-ru.html" class="active lang"><span class="fi fi-ru"></span></a>
        </nav>
    </header>

    <section class="home" id="home">
        <div class="home-content">
            <h1>Nutralux</h1>
            <h3>Store of <span class="multiple-text"></span></h3>
            <p>
                Vitamins and supplements for health: vitamin C, magnesium, zinc, multivitamins, probiotics and more. Quality
                formulations, clear dosage instructions, and personalized selection assistance.
            </p>
            <div class="social-media">
                <a href="https://wa.me/905332452900" target="_blank" aria-label="WhatsApp Nutralux"><i class="bx bxl-whatsapp"></i></a>
                <a href="https://www.tiktok.com/@nutraluxlife?_t=ZS-8yvEDo3bZth&_r=1" target="_blank" aria-label="TikTok Nutralux"><i class="bx bxl-tiktok"></i></a>
                <a href="https://t.me/nutralux" target="_blank" aria-label="Telegram Nutralux"><i class="bx bxl-telegram"></i></a>
                <a href="https://clck.ru/3NQNkm" target="_blank" aria-label="Instagram Nutralux"><i class="bx bxl-instagram"></i></a>
            </div>
            <a href="catalog.html" class="btn">Go to Catalog</a>
        </div>

        <div class="home-img">
            <img src="images/avatar.png" alt="Woman holding a bottle of Nutralux vitamins with green label" />
        </div>
    </section>

    <section class="about" id="about">
        <div class="about-img">
            <img src="images/about-image.png" alt="Collection of various Nutralux vitamin and supplement bottles on white background" />
        </div>

        <div class="about-content">
            <h2 class="heading">About <span>Nutralux Store</span></h2>
            <h3>Supplements and vitamins for daily support</h3>
            <p>
                We select proven supplements with clear compositions and dosages. We help choose complexes for your needs ‚Äî
                immunity, energy, sleep, skin beauty, and much more.
            </p>
            <p>Focus: vitamin C, magnesium, zinc, women's multivitamins, probiotics, and basic complexes.</p>
        </div>
    </section>

    <section class="services" id="services">
        <h2 class="heading">Our <span>Nutralux Services</span></h2>

        <div class="services-container">
            <div class="services-box">
                <i class="bx bx-support"></i>
                <h3>Vitamin Selection Consultation</h3>
                <ul>
                    <li>Help with choosing formulations and dosages</li>
                    <li>Basic intake recommendations</li>
                </ul>
            </div>

            <div class="services-box">
                <i class="bx bx-package"></i>
                <h3>Fast Worldwide Delivery</h3>
                <ul>
                    <li>Same-day order shipping</li>
                    <li>Order status tracking</li>
                </ul>
            </div>

            <div class="services-box">
                <i class="bx bx-check-shield"></i>
                <h3>Quality and Supplement Transparency</h3>
                <ul>
                    <li>Only verified suppliers</li>
                    <li>Clear labels and compositions</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="portfolio" id="portfolio">
        <h2 class="heading">Popular <span>Nutralux Products</span></h2>
    
        <div class="portfolio-container">
            <div class="portfolio-box">
                <div class="portfolio-img">
                    <img src="images/omega-3.jpg" alt="Nutralux Omega-3 1000 mg bottle" />
                </div>
                <div class="portfolio-content">
                    <h4>Omega-3 1000 mg</h4>
                    <p>Brain, heart, and vision support</p>
                    <a href="product.html?slug=omega-3-1000" class="btn">Learn More</a>
                </div>
            </div>
    
            <div class="portfolio-box">
                <div class="portfolio-img">
                    <img src="images/womens-multivitamin.jpg" alt="Nutralux Women's Multivitamin bottle" />
                </div>
                <div class="portfolio-content">
                    <h4>Women's Multivitamin</h4>
                    <p>Daily balance and support</p>
                    <a href="product.html?slug=womens-multivitamin" class="btn">Learn More</a>
                </div>
            </div>
        </div>
    
        <div style="text-align:center; margin-top: 1.5rem;">
            <a href="catalog.html" class="btn">View Full Catalog</a>
        </div>
    </section>
    <section class="faq" id="faq">
        <h2 class="heading">Frequently Asked <span>Questions about Nutralux</span></h2>
    
        <div class="faq-container">
            <div class="faq-item">
                <h3>How fast is delivery?</h3>
                <p>Delivery usually takes 1-2 business days. We ship orders on the same day they are placed.</p>
            </div>
    
            <div class="faq-item">
                <h3>Can children take your vitamins?</h3>
                <p>Yes, we have special complexes for children. Please check the "For Kids" section in our catalog.</p>
            </div>
    
            <div class="faq-item">
                <h3>Are there discounts for multiple items?</h3>
                <p>Yes, for orders of 3 or more items, we offer discounts and free shipping.</p>
            </div>
    
            <div class="faq-item">
                <h3>What payment methods are available?</h3>
                <p>We accept card payments, e-wallets, and cash on delivery.</p>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="footer-text">
            <p>¬© 2025 Nutralux</p>
        </div>

        <div class="footer-icon-top">
            <a href="#home"><i class="bx bx-up-arrow-alt"></i></a>
        </div>
    </footer>

    <div id="chat-fab" style="display: flex;">
        <i class="bx bx-chat"></i>
    </div>

    <div id="chat-widget" style="display: none;">
        <div class="chat-container">
            <div class="chat-header">–ß–∞—Ç-–±–æ—Ç Nutralux</div>
            <div class="chat-messages" id="chat-messages">
                <div class="message bot-message">
                    <strong>–ë–æ—Ç:</strong> –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø —á–∞—Ç-–±–æ—Ç Nutralux. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chat-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                <button class="chat-send" id="chat-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/scrollreveal"></script>

    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <script src="script.js"></script>
    <script>
        /* to prevent Typed.js from breaking on pages without .multiple-text */
        if (typeof Typed !== 'undefined' && document.querySelector('.multiple-text')) {
            new Typed('.multiple-text', {
                strings: ['vitamins and supplements', 'daily health'],
                typeSpeed: 100,
                backSpeed: 100,
                backDelay: 1000,
                loop: true
            });
        }
     –Ø –¥–∞–º —Ç–µ–±–µ —Å–∫—Ä–∏–ø—Ç, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –µ–≥–æ –∏ —Å–∫–∞–∂–∏ –º–Ω–µ, —á–µ–≥–æ –ø–æ —Ç–≤–æ–µ–º—É –º–Ω–µ–Ω–∏—é —Ç–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç.<script>
        // --- –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ü–ï–†–ï–ú–ï–ù–ù–ê–Ø –î–õ–Ø –ü–ê–ú–Ø–¢–ò –Ø–ó–´–ö–ê ---
        let lastLanguage = 'ru';    

        // --- –ü–†–ò–í–Ø–ó–ö–ê –ö DOM ---
        const chatWidget = document.getElementById('chat-widget');
        const chatFab = document.getElementById('chat-fab');
        const chatInput = document.getElementById('chat-input');
        const chatSend = document.getElementById('chat-send');
        const chatMessages = document.getElementById('chat-messages');

        // --- –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –ß–ê–¢–ê ---
        function toggleChat() {
            if (!chatWidget || !chatFab || !chatInput) {
                console.error("–≠–ª–µ–º–µ–Ω—Ç—ã —á–∞—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ DOM.");
                return;
            }

            const isHidden = chatWidget.style.display === 'none' || chatWidget.style.display === '';
            chatWidget.style.display = isHidden ? 'flex' : 'none';
            chatFab.innerHTML = isHidden ? '<i class="bx bx-x"></i>' : '<i class="bx bx-chat"></i>';

            if (isHidden) {
                setTimeout(() => chatInput.focus(), 100);
            }
        }

        if (chatFab) {
            chatFab.addEventListener('click', toggleChat);
        }
        
        // --- –†–ê–°–®–ò–†–ï–ù–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–î–£–ö–¢–û–í ---
        const products = [
            { "slug": "ginkgo-biloba-500", "name": "–ì–∏–Ω–∫–≥–æ –ë–∏–ª–æ–±–∞ 500 –º–≥", "short": "–ü–∞–º—è—Ç—å, –≤–Ω–∏–º–∞–Ω–∏–µ, –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ –º–æ–∑–≥–∞", "category": "–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç—ã", "description": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–∑–≥–æ–≤–æ–≥–æ –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏—è –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: –ø–∞–º—è—Ç—å, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è. –°–Ω–∏–∂–µ–Ω–∏–µ —à—É–º–∞ –≤ —É—à–∞—Ö –∏ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø–æ–º–æ—â—å –ø—Ä–∏ —É—Ç–æ–º–ª–µ–Ω–∏–∏." },
            { "slug": "magnesium-b6", "name": "–ú–∞–≥–Ω–∏–π B6", "short": "–ù–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, —Å–æ–Ω, —É—Å–≤–æ–µ–Ω–∏–µ –º–∞–≥–Ω–∏—è", "category": "–ú–∏–Ω–µ—Ä–∞–ª—ã", "description": "–ú–∞–≥–Ω–∏–π —É—á–∞—Å—Ç–≤—É–µ—Ç –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –æ–±–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–ø–∞–∑–º–∞—Ö –º—ã—à—Ü –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö —Å–Ω–∞. –í–∏—Ç–∞–º–∏–Ω B6 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É." },
            { "slug": "omega-3-1000", "name": "–û–º–µ–≥–∞-3 1000 –º–≥", "short": "–ú–æ–∑–≥, —Å–µ—Ä–¥—Ü–µ, –∑—Ä–µ–Ω–∏–µ", "category": "–ñ–∏—Ä–Ω—ã–µ –∫–∏—Å–ª–æ—Ç—ã", "description": "–ù–µ–∑–∞–º–µ–Ω–∏–º—ã–µ –∂–∏—Ä–Ω—ã–µ –∫–∏—Å–ª–æ—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–∑–≥–∞ –∏ —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã, –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–∂–∏ –∏ –∑—Ä–µ–Ω–∏—è." },
            { "slug": "b-complex", "name": "–í–∏—Ç–∞–º–∏–Ω B-–∫–æ–º–ø–ª–µ–∫—Å", "short": "–≠–Ω–µ—Ä–≥–∏—è, –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫—Ä–æ–≤—å", "category": "–í–∏—Ç–∞–º–∏–Ω—ã", "description": "–ö–æ–º–ø–ª–µ–∫—Å –≤–∏—Ç–∞–º–∏–Ω–æ–≤ –≥—Ä—É–ø–ø—ã B –¥–ª—è —ç–Ω–µ—Ä–≥–æ–æ–±–º–µ–Ω–∞, —Ä–∞–±–æ—Ç—ã –¶–ù–° –∏ –∫—Ä–æ–≤–µ—Ç–≤–æ—Ä–µ–Ω–∏—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏–Ω—Ç–µ–∑ –≥–µ–º–æ–≥–ª–æ–±–∏–Ω–∞ –∏ –æ–±–º–µ–Ω —É–≥–ª–µ–≤–æ–¥–æ–≤." },
            { "slug": "anti-stress", "name": "–ê–Ω—Ç–∏-–°—Ç—Ä–µ—Å—Å", "short": "–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, —Å–æ–Ω, —Å–Ω–∏–∂–µ–Ω–∏–µ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏", "category": "–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç—ã", "description": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ —Ç—Ä–µ–≤–æ–≥–µ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–Ω–∞. –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç—ã –∑–≤–µ—Ä–æ–±–æ—è, –ø–∞—Å—Å–∏—Ñ–ª–æ—Ä—ã –∏ –≤–∞–ª–µ—Ä–∏–∞–Ω—ã." },
            { "slug": "vitamin-d3-10000", "name": "–í–∏—Ç–∞–º–∏–Ω D3 10 000 –ú–ï", "short": "–ò–º–º—É–Ω–∏—Ç–µ—Ç, –∫–∞–ª—å—Ü–∏–µ–≤—ã–π –æ–±–º–µ–Ω, —Å–æ—Å—É–¥—ã", "category": "–í–∏—Ç–∞–º–∏–Ω—ã", "description": "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç –∏ –∑–¥–æ—Ä–æ–≤—ã–π –∫–∞–ª—å—Ü–∏–µ–≤—ã–π –æ–±–º–µ–Ω, —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏ —Å–æ—Å—É–¥–æ–≤ –∏ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–µ –∫–∞–ª—å—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∫–∞–Ω–µ–π." },
            { "slug": "zinc-complex", "name": "–¶–∏–Ω–∫ (–∫–æ–º–ø–ª–µ–∫—Å)", "short": "–ò–º–º—É–Ω–∏—Ç–µ—Ç, –∫–æ–∂–∞, –æ–±–º–µ–Ω", "category": "–ú–∏–Ω–µ—Ä–∞–ª—ã", "description": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞, –∫–æ–∂–∏ –∏ –æ–±–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –£—Å–∏–ª–µ–Ω –≤–∏—Ç–∞–º–∏–Ω–æ–º C, D –∏ —Å–µ–ª–µ–Ω–æ–º." },
            { "slug": "probiotic-30b", "name": "–ü—Ä–æ–±–∏–æ—Ç–∏–∫", "short": "–ú–∏–∫—Ä–æ–±–∏–æ–º –∏ –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ", "category": "–ü—Ä–æ–±–∏–æ—Ç–∏–∫–∏", "description": "–ú—É–ª—å—Ç–∏—à—Ç–∞–º–º–æ–≤—ã–π –ø—Ä–æ–±–∏–æ—Ç–∏–∫: –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–∞—Ç–æ–≥–µ–Ω–æ–≤, —Å–∏–Ω—Ç–µ–∑ –≤–∏—Ç–∞–º–∏–Ω–æ–≤, —É–ª—É—á—à–µ–Ω–∏–µ –≤—Å–∞—Å—ã–≤–∞–Ω–∏—è –º–∏–Ω–µ—Ä–∞–ª–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞." },
            { "slug": "collagen-30-sachets", "name": "–ö–æ–ª–ª–∞–≥–µ–Ω ‚Äî 30 —Å–∞—à–µ", "short": "–ö–æ–∂–∞, —Å—É—Å—Ç–∞–≤—ã, –≤–æ–ª–æ—Å—ã –∏ –Ω–æ–≥—Ç–∏", "category": "–ö–æ–ª–ª–∞–≥–µ–Ω", "description": "–¢—Ä–∏ —Ç–∏–ø–∞ –∫–æ–ª–ª–∞–≥–µ–Ω–∞ + –≤–∏—Ç–∞–º–∏–Ω C, –≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞, –∫–æ—ç–Ω–∑–∏–º Q10, —Ü–∏–Ω–∫, –±–∏–æ—Ç–∏–Ω –¥–ª—è –∫–æ–∂–∏, —Å—É—Å—Ç–∞–≤–æ–≤ –∏ –æ–±—â–µ–≥–æ —Ç–æ–Ω—É—Å–∞." },
            { "slug": "vitamin-c-effervescent-1000", "name": "–í–∏—Ç–∞–º–∏–Ω C 1000 –º–≥ (—à–∏–ø—É—á–∏–π)", "short": "–ò–º–º—É–Ω–∏—Ç–µ—Ç, –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç, –∫–æ–ª–ª–∞–≥–µ–Ω", "category": "–í–∏—Ç–∞–º–∏–Ω—ã", "description": "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Å—É–¥–æ–≤ –∏ –∫–æ–∂–∏, —É–ª—É—á—à–∞–µ—Ç —É—Å–≤–æ–µ–Ω–∏–µ –∂–µ–ª–µ–∑–∞ –∏ —Å–∏–Ω—Ç–µ–∑ –∫–æ–ª–ª–∞–≥–µ–Ω–∞." },
            { "slug": "womens-multivitamin", "name": "–ñ–µ–Ω—Å–∫–∏–π –ú—É–ª—å—Ç–∏–≤–∏—Ç–∞–º–∏–Ω", "short": "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–∞–ª–∞–Ω—Å, —É—Å–≤–æ–µ–Ω–∏–µ –¥–æ 98%", "category": "–ö–æ–º–ø–ª–µ–∫—Å—ã", "description": "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–º–∞: –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ, –∏–º–º—É–Ω–∏—Ç–µ—Ç, –º–µ—Ç–∞–±–æ–ª–∏–∑–º, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–∂–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏." },
            { "slug": "slimming-complex", "name": "–°–ª–∏–º–º–∏–Ω–≥ –ö–æ–º–ø–ª–µ–∫—Å", "short": "–¢–æ–Ω—É—Å, –º–µ—Ç–∞–±–æ–ª–∏–∑–º –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∞–ø–ø–µ—Ç–∏—Ç–∞", "category": "–ö–æ–º–ø–ª–µ–∫—Å—ã", "description": "–¢–æ–Ω–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–Ω–∏–∂–µ–Ω–∏—è –≤–µ—Å–∞: –≥—É–∞—Ä–∞–Ω–∞, –∑–µ–ª—ë–Ω—ã–π —á–∞–π, CLA, L-–∫–∞—Ä–Ω–∏—Ç–∏–Ω, –≥–∞—Ä—Ü–∏–Ω–∏—è, –∫–æ—Ä–∏—Ü–∞, –≥–∏–º–Ω–µ–º–∞, 5-HTP –∏ —Ö—Ä–æ–º." }
        ];

        // --- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–ë–†–ê–ë–û–¢–ö–ò –û–ü–ï–ß–ê–¢–û–ö ---
        function normalizeText(text) {
            const lowerText = text.toLowerCase().trim();
            
            // –°–ª–æ–≤–∞—Ä—å –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –∑–∞–º–µ–Ω
            const corrections = {
                // –ò–º–º—É–Ω–∏—Ç–µ—Ç —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '–º': '–∏–º–º—É–Ω–∏—Ç–µ—Ç', '–∏–º–º—É–Ω–∏—Ç–µ—Ç': '–∏–º–º—É–Ω–∏—Ç–µ—Ç', '–∏–º—É–Ω–∏—Ç–µ—Ç': '–∏–º–º—É–Ω–∏—Ç–µ—Ç', '–∏–º–º—É–Ω–µ—Ç–µ—Ç': '–∏–º–º—É–Ω–∏—Ç–µ—Ç',
                'immunity': '–∏–º–º—É–Ω–∏—Ç–µ—Ç', 'imunity': '–∏–º–º—É–Ω–∏—Ç–µ—Ç', '–∏–º–º—É–Ω': '–∏–º–º—É–Ω–∏—Ç–µ—Ç',
                
                // –°–æ–Ω —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '—Å–æ–Ω': '—Å–æ–Ω', '—Å–Ω': '—Å–æ–Ω', '—Å–ø–∞—Ç—å': '—Å–æ–Ω', '–±–µ—Å—Å–æ–Ω–Ω–∏—Ü–∞': '—Å–æ–Ω', 'sleep': '—Å–æ–Ω',
                
                // –≠–Ω–µ—Ä–≥–∏—è —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '—ç–Ω–µ—Ä–≥–∏—è': '—ç–Ω–µ—Ä–≥–∏—è', '—ç–Ω–µ–≥–∏—è': '—ç–Ω–µ—Ä–≥–∏—è', '–µ–Ω–µ—Ä–≥–∏—è': '—ç–Ω–µ—Ä–≥–∏—è', '—Å–∏–ª—ã': '—ç–Ω–µ—Ä–≥–∏—è',
                'energy': '—ç–Ω–µ—Ä–≥–∏—è', 'energi': '—ç–Ω–µ—Ä–≥–∏—è', '—É—Å—Ç–∞–ª–æ—Å—Ç—å': '—ç–Ω–µ—Ä–≥–∏—è',
                
                // –ú–æ–∑–≥ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '–º–æ–∑–≥': '–º–æ–∑–≥', '–º–∑–≥': '–º–æ–∑–≥', '–ø–∞–º—è—Ç—å': '–º–æ–∑–≥', '–≤–Ω–∏–º–∞–Ω–∏–µ': '–º–æ–∑–≥',
                'brain': '–º–æ–∑–≥', 'memory': '–º–æ–∑–≥', 'focus': '–º–æ–∑–≥',
                
                // –ö–æ–∂–∞ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '–∫–æ–∂–∞': '–∫–æ–∂–∞', '–∫–æ–∂': '–∫–æ–∂–∞', '–≤–æ–ª–æ—Å—ã': '–∫–æ–∂–∞', '–Ω–æ–≥—Ç–∏': '–∫–æ–∂–∞',
                'skin': '–∫–æ–∂–∞', 'beauty': '–∫–æ–∂–∞', '–∫—Ä–∞—Å–æ—Ç–∞': '–∫–æ–∂–∞',
                
                // –í–µ—Å —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '–≤–µ—Å': '–≤–µ—Å', '–ø–æ—Ö—É–¥–µ–Ω–∏–µ': '–≤–µ—Å', '–¥–∏–µ—Ç–∞': '–≤–µ—Å', '–º–µ—Ç–∞–±–æ–ª–∏–∑–º': '–≤–µ—Å',
                'weight': '–≤–µ—Å', 'slim': '–≤–µ—Å', '–ø–æ—Ö—É–¥–µ—Ç—å': '–≤–µ—Å',
                
                // –°–µ—Ä–¥—Ü–µ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '—Å–µ—Ä–¥—Ü–µ': '—Å–µ—Ä–¥—Ü–µ', '—Å–µ—Ä–¥—Ü': '—Å–µ—Ä–¥—Ü–µ', '—Å–æ—Å—É–¥—ã': '—Å–µ—Ä–¥—Ü–µ', '–¥–∞–≤–ª–µ–Ω–∏–µ': '—Å–µ—Ä–¥—Ü–µ',
                'heart': '—Å–µ—Ä–¥—Ü–µ', 'pressure': '—Å–µ—Ä–¥—Ü–µ', '–æ–º–µ–≥–∞': '—Å–µ—Ä–¥—Ü–µ',
                
                // –ñ–µ–ª—É–¥–æ–∫ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
                '–∂–µ–ª—É–¥–æ–∫': '–∂–µ–ª—É–¥–æ–∫', '–ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ': '–∂–µ–ª—É–¥–æ–∫', '–∫–∏—à–µ—á–Ω–∏–∫': '–∂–µ–ª—É–¥–æ–∫',
                'stomach': '–∂–µ–ª—É–¥–æ–∫', 'digest': '–∂–µ–ª—É–¥–æ–∫', '–ø—Ä–æ–±–∏–æ—Ç–∏–∫': '–∂–µ–ª—É–¥–æ–∫'
            };

            // –ó–∞–º–µ–Ω—è–µ–º –æ–ø–µ—á–∞—Ç–∫–∏
            let normalized = lowerText;
            Object.keys(corrections).forEach(wrong => {
                const regex = new RegExp(`\\b${wrong}\\b`, 'gi');
                normalized = normalized.replace(regex, corrections[wrong]);
            });

            return normalized;
        }

        // --- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –Ø–ó–´–ö–ê ---
        function detectLanguage(text) {
            const russianChars = /[–∞-—è—ë]/i;
            const englishChars = /[a-z]/i;
            
            const hasRu = russianChars.test(text);
            const hasEn = englishChars.test(text);
            
            if (hasRu && !hasEn) return 'ru';
            if (hasEn && !hasRu) return 'en';
            if (hasRu && hasEn) {
                // –ï—Å–ª–∏ —Å–º–µ—à–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, —Å—á–∏—Ç–∞–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤
                const ruWords = text.match(/[–∞-—è—ë]+/gi) || [];
                const enWords = text.match(/[a-z]+/gi) || [];
                return ruWords.length >= enWords.length ? 'ru' : 'en';
            }
            return lastLanguage; // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —è–∑—ã–∫ –µ—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏
        }

        // --- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–¢–í–ï–¢–ê –ë–û–¢–ê ---
        function getAIResponse(message) {
            const normalizedMessage = normalizeText(message);
            const detectedLang = detectLanguage(message);
            lastLanguage = detectedLang;

            // –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
            const productMap = {
                sleep: /(—Å–æ–Ω|–±–µ—Å—Å–æ–Ω–Ω–∏—Ü|—Å–ø–∞—Ç—å|–∑–∞—Å—ã–ø–∞–Ω–∏–µ|—É—Å—Ç–∞–ª–æ—Å—Ç—å|—Ä–∞—Å—Å–ª–∞–±–ª|—Ç—Ä–µ–≤–æ–≥|stress|rest|sleep|insomnia)/,
                brain: /(–º–æ–∑–≥|–ø–∞–º—è—Ç|–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü|–≤–Ω–∏–º–∞–Ω–∏–µ|—Ñ–æ–∫—É—Å|–∫–æ–≥–Ω–∏—Ç–∏–≤|–≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω|brain|memory|focus|cognitive|mind)/,
                energy: /(—ç–Ω–µ—Ä–≥–∏|—Å–∏–ª|–±–æ–¥—Ä|—Å–ª–∞–±–æ—Å—Ç|–≤—è–ª–æ—Å—Ç|—É—Å—Ç–∞–ª|—É—Ç–æ–º–ª–µ–Ω|–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç|energy|strength|vitality|fatigue)/,
                immunity: /(–∏–º–º—É–Ω–∏—Ç|–∑–∞—â–∏—Ç|–ø—Ä–æ—Å—Ç—É–¥–∞|–≥—Ä–∏–ø–ø|–≤–∏—Ä—É—Å|–±–æ–ª–µ–∑–Ω|–∑–¥–æ—Ä–æ–≤—å–µ|immun|defense|virus|health)/,
                beauty: /(–∫–æ–∂|–≤–æ–ª–æ—Å|–Ω–æ–≥—Ç|–∫—Ä–∞—Å–æ—Ç|–∫–æ–ª–ª–∞–≥–µ–Ω|–æ–º–æ–ª–æ–∂–µ–Ω|skin|hair|nails|beauty|collagen|youth)/,
                weight: /(–≤–µ—Å|–ø–æ—Ö—É–¥–µ–Ω|—Å—Ç—Ä–æ–π–Ω|–¥–∏–µ—Ç|–º–µ—Ç–∞–±–æ–ª–∏–∑–º|–∞–ø–ø–µ—Ç–∏—Ç|–∂–∏—Ä|weight|slim|diet|metabolism|fat)/,
                heart: /(—Å–µ—Ä–¥—Ü|—Å–æ—Å—É–¥|–¥–∞–≤–ª–µ–Ω|–∫—Ä–æ–≤|—Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω|–∫–∞—Ä–¥–∏–æ|heart|vessel|pressure|blood|cholesterol)/,
                stomach: /(–∂–µ–ª—É–¥–æ–∫|–ø–∏—â–µ–≤–∞—Ä|–∫–∏—à–µ—á–Ω–∏–∫|–ø—Ä–æ–±–∏–æ—Ç–∏–∫|–º–∏–∫—Ä–æ–±–∏–æ–º|–∂–µ–ª—É–¥|stomach|digest|gut|probiotic)/,
            };
            
            const keywordsFound = Object.keys(productMap).filter(key => productMap[key].test(normalizedMessage));
            
            // --- –£–õ–£–ß–®–ï–ù–ù–´–ï –°–û–¶–ò–ê–õ–¨–ù–´–ï –û–¢–í–ï–¢–´ ---
            
            // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            if (/(–ø—Ä–∏–≤–µ—Ç|–∑–¥—Ä–∞–≤—Å—Ç–≤|–¥–æ–±—Ä|—Ö–∞–π|–∫—É|–Ω–∞—á–∞—Ç—å|hi|hello|hey|start)/.test(normalizedMessage)) {
                if (detectedLang === 'ru') {
                    return "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã –Ø AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç Nutralux. –°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –æ –≤–∞—à–µ–π —Ü–µ–ª–∏, –∏ —è –ø–æ–¥–±–µ—Ä—É –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å.\n\n–ù–∞–ø—Ä–∏–º–µ—Ä: '–ß—Ç–æ –ø–æ—Å–æ–≤–µ—Ç—É–µ—à—å –¥–ª—è —Å–Ω–∞ –∏ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞?' –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ '–∏–º–º—É–Ω–∏—Ç–µ—Ç'";
                } else {
                    return "Hello! I'm Nutralux AI consultant. Tell me your health goal and I'll find the perfect solution for you! üá¨üáß\n\nExample: 'What should I take for energy and focus?' or just 'immunity'";
                }
            }

            // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
            const socialPatterns = {
                ru: {
                    'how_are_you': /(–∫–∞–∫ –¥–µ–ª–∞|–∫–∞–∫ —Ç—ã|–∫–∞–∫ –∂–∏–∑–Ω—å|how are you|how do you do)/,
                    'thanks': /(—Å–ø–∞—Å–∏–±–æ|–±–ª–∞–≥–æ–¥–∞—Ä—é|–º–æ–ª–æ–¥–µ—Ü|–∫—Ä—É—Ç–æ|—Ö–æ—Ä–æ—à–æ|–Ω–æ—Ä–º|thanks|thank you)/,
                    'who_are_you': /(—Ç—ã –∫—Ç–æ|–∫—Ç–æ —Ç—ã|who are you|what are you)/,
                    'help': /(–ø–æ–º–æ—â—å|help|—á—Ç–æ —Ç—ã —É–º–µ–µ—à|what can you do)/
                }
            };

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—Ä–∞–∑
            if (socialPatterns.ru.how_are_you.test(normalizedMessage)) {
                return detectedLang === 'ru' 
                    ? "–Ø –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, —Å–ø–∞—Å–∏–±–æ! –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–µ –¥–æ–±–∞–≤–∫–∏ –¥–ª—è **–∑–¥–æ—Ä–æ–≤—å—è –∏ —ç–Ω–µ—Ä–≥–∏–∏**.\n\n–ß—Ç–æ –¥–ª—è –≤–∞—Å —Å–µ–π—á–∞—Å –≤–∞–∂–Ω–µ–µ: **–°–æ–Ω** –∏–ª–∏ **–ò–º–º—É–Ω–∏—Ç–µ—Ç**?"
                    : "I'm doing great, thank you for asking! I'm here to help you find the best supplements for **health and energy**.\n\nWhat is your main priority: **Sleep** or **Immunity**?";
            }

            if (socialPatterns.ru.thanks.test(normalizedMessage)) {
                return detectedLang === 'ru'
                    ? "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! üéâ –†–∞–¥, —á—Ç–æ —Å–º–æ–≥ –ø–æ–º–æ—á—å. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –µ—â–µ - –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç–µ!\n\n–ú–æ–∂–µ—Ç –±—ã—Ç—å, –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —á—Ç–æ-—Ç–æ –¥–ª—è **—ç–Ω–µ—Ä–≥–∏–∏** –∏–ª–∏ **–∫—Ä–∞—Å–æ—Ç—ã**?"
                    : "You're welcome! üéâ Glad I could help. If you need anything else - just ask!\n\nMaybe you're interested in something for **energy** or **beauty**?";
            }

            if (socialPatterns.ru.who_are_you.test(normalizedMessage)) {
                return detectedLang === 'ru'
                    ? "–Ø - AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç Nutralux! ü§ñ –ü–æ–º–æ–≥–∞—é –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–µ –≤–∏—Ç–∞–º–∏–Ω—ã –∏ –¥–æ–±–∞–≤–∫–∏ –¥–ª—è –≤–∞—à–∏—Ö —Ü–µ–ª–µ–π –∑–¥–æ—Ä–æ–≤—å—è.\n\n–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç?"
                    : "I'm Nutralux AI consultant! ü§ñ I help choose perfect vitamins and supplements for your health goals.\n\nTell me, what concerns you?";
            }

            if (socialPatterns.ru.help.test(normalizedMessage)) {
                return detectedLang === 'ru'
                    ? "–Ø –ø–æ–º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å –¥–æ–±–∞–≤–∫–∏ –¥–ª—è:\n\n‚Ä¢ üí§ **–°–Ω–∞ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è**\n‚Ä¢ üß† **–ü–∞–º—è—Ç–∏ –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏**\n‚Ä¢ ‚ö° **–≠–Ω–µ—Ä–≥–∏–∏ –∏ —Ç–æ–Ω—É—Å–∞**\n‚Ä¢ üõ°Ô∏è **–ò–º–º—É–Ω–∏—Ç–µ—Ç–∞**\n‚Ä¢ üíÖ **–ö—Ä–∞—Å–æ—Ç—ã –∫–æ–∂–∏ –∏ –≤–æ–ª–æ—Å**\n\n–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!"
                    : "I can help choose supplements for:\n\n‚Ä¢ üí§ **Sleep and relaxation**\n‚Ä¢ üß† **Memory and focus**\n‚Ä¢ ‚ö° **Energy and vitality**\n‚Ä¢ üõ°Ô∏è **Immunity**\n‚Ä¢ üíÖ **Skin and hair beauty**\n\nJust tell me what interests you!";
            }

            // --- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ï–ö–¶–ò–Ø –ö–û–ú–ë–ò–ù–ê–¶–ò–ô ---
            
            if (keywordsFound.length >= 2) {
                if (keywordsFound.includes('sleep') && keywordsFound.includes('immunity')) {
                    return detectedLang === 'ru'
                        ? "üí§üõ°Ô∏è **–î–ª—è –∫—Ä–µ–ø–∫–æ–≥–æ —Å–Ω–∞ –∏ —Å–∏–ª—å–Ω–æ–≥–æ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞:**\n\n‚Ä¢ **–ú–∞–≥–Ω–∏–π B6** + **–í–∏—Ç–∞–º–∏–Ω D3** - –∏–¥–µ–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞!\n‚Ä¢ **–¶–∏–Ω–∫ –∫–æ–º–ø–ª–µ–∫—Å** - —É—Å–∏–ª–∏—Ç –∑–∞—â–∏—Ç—É –æ—Ä–≥–∞–Ω–∏–∑–º–∞\n‚Ä¢ **–í–∏—Ç–∞–º–∏–Ω C** - –ø–æ–¥–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–∑–æ–Ω –ø—Ä–æ—Å—Ç—É–¥\n\n‚≠ê **–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –≤–µ—á–µ—Ä–æ–º:** –ú–∞–≥–Ω–∏–π –¥–ª—è —Å–Ω–∞, —É—Ç—Ä–æ–º - D3 –∏ –¶–∏–Ω–∫ –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞!"
                        : "üí§üõ°Ô∏è **For deep sleep and strong immunity:**\n\n‚Ä¢ **Magnesium B6** + **Vitamin D3** - perfect combination!\n‚Ä¢ **Zinc Complex** - boosts body defense\n‚Ä¢ **Vitamin C** - supports during cold season\n\n‚≠ê **Take in evening:** Magnesium for sleep, in morning - D3 and Zinc for immunity!";
                }

                if (keywordsFound.includes('brain') && keywordsFound.includes('energy')) {
                    return detectedLang === 'ru'
                        ? "üß†‚ö° **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —è—Å–Ω–æ—Å—Ç—å —É–º–∞:**\n\n‚Ä¢ **–ì–∏–Ω–∫–≥–æ –ë–∏–ª–æ–±–∞** - —É–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ –º–æ–∑–≥–∞\n‚Ä¢ **–û–º–µ–≥–∞-3** - –ø–∏—Ç–∞–µ—Ç –Ω–µ–π—Ä–æ–Ω—ã\n‚Ä¢ **B-–∫–æ–º–ø–ª–µ–∫—Å** - –¥–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å\n\n‚≠ê **–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤!**"
                        : "üß†‚ö° **Maximum productivity and mental clarity:**\n\n‚Ä¢ **Ginkgo Biloba** - improves brain circulation\n‚Ä¢ **Omega-3** - nourishes neurons\n‚Ä¢ **B-Complex** - provides all-day energy\n\n‚≠ê **Perfect combination for students and professionals!**";
                }

                if (keywordsFound.includes('beauty') && keywordsFound.includes('immunity')) {
                    return detectedLang === 'ru'
                        ? "‚ú®üõ°Ô∏è **–ö—Ä–∞—Å–æ—Ç–∞ –∏–∑–Ω—É—Ç—Ä–∏ –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞:**\n\n‚Ä¢ **–ö–æ–ª–ª–∞–≥–µ–Ω** - –æ—Å–Ω–æ–≤–∞ –¥–ª—è –∫–æ–∂–∏ –∏ –≤–æ–ª–æ—Å\n‚Ä¢ **–¶–∏–Ω–∫** - —É–ª—É—á—à–∞–µ—Ç –∫–æ–∂—É –∏ –∏–º–º—É–Ω–∏—Ç–µ—Ç\n‚Ä¢ **–í–∏—Ç–∞–º–∏–Ω C** - —É—Å–∏–ª–∏–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–ª–ª–∞–≥–µ–Ω–∞\n\n‚≠ê **–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ –¥–ª—è —Å–∏–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞!**"
                        : "‚ú®üõ°Ô∏è **Beauty from within and reliable protection:**\n\n‚Ä¢ **Collagen** - foundation for skin and hair\n‚Ä¢ **Zinc** - improves skin and immunity\n‚Ä¢ **Vitamin C** - enhances collagen action\n\n‚≠ê **Take together for synergistic effect!**";
                }
            }

            // --- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ï–ö–¶–ò–Ø –û–î–ò–ù–û–ß–ù–´–• –ö–ê–¢–ï–ì–û–†–ò–ô ---
            
            if (keywordsFound.length > 0) {
                const category = keywordsFound[0];
                let response = "";
                let productsList = [];

                switch(category) {
                    case 'sleep':
                        productsList = products.filter(p => 
                            p.short.includes('—Å–æ–Ω') || p.name.includes('–ú–∞–≥–Ω–∏–π') || p.name.includes('–°—Ç—Ä–µ—Å—Å'));
                        response = detectedLang === 'ru'
                            ? "üò¥ **–î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ —Å–Ω–∞ –∏ —Å–ø–æ–∫–æ–π–Ω–æ–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:**\n\n"
                            : "üò¥ **For deep sleep and calm nervous system:**\n\n";
                        break;
                    case 'immunity':
                        productsList = products.filter(p => 
                            p.short.includes('–ò–º–º—É–Ω–∏—Ç–µ—Ç') || p.name.includes('–¶–∏–Ω–∫') || 
                            p.name.includes('–í–∏—Ç–∞–º–∏–Ω C') || p.name.includes('–í–∏—Ç–∞–º–∏–Ω D'));
                        response = detectedLang === 'ru'
                            ? "üõ°Ô∏è **–î–ª—è —Å–∏–ª—å–Ω–æ–≥–æ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞ –∏ –∑–∞—â–∏—Ç—ã:**\n\n"
                            : "üõ°Ô∏è **For strong immunity and protection:**\n\n";
                        break;
                    case 'energy':
                        productsList = products.filter(p => 
                            p.short.includes('–≠–Ω–µ—Ä–≥–∏—è') || p.name.includes('B-–∫–æ–º–ø–ª–µ–∫—Å') || 
                            p.name.includes('–ú—É–ª—å—Ç–∏–≤–∏—Ç–∞–º–∏–Ω'));
                        response = detectedLang === 'ru'
                            ? "‚ö° **–î–ª—è —ç–Ω–µ—Ä–≥–∏–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–∏–ª:**\n\n"
                            : "‚ö° **For energy and vitality:**\n\n";
                        break;
                    case 'brain':
                        productsList = products.filter(p => 
                            p.short.includes('–º–æ–∑–≥') || p.short.includes('–ø–∞–º—è—Ç—å') || 
                            p.name.includes('–ì–∏–Ω–∫–≥–æ') || p.name.includes('–û–º–µ–≥–∞'));
                        response = detectedLang === 'ru'
                            ? "üß† **–î–ª—è –ø–∞–º—è—Ç–∏ –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏:**\n\n"
                            : "üß† **For memory and focus:**\n\n";
                        break;
                    case 'beauty':
                        productsList = products.filter(p => 
                            p.short.includes('–∫–æ–∂–∞') || p.name.includes('–ö–æ–ª–ª–∞–≥–µ–Ω') || 
                            p.name.includes('–¶–∏–Ω–∫') || p.short.includes('–≤–æ–ª–æ—Å'));
                        response = detectedLang === 'ru'
                            ? "üíÖ **–î–ª—è –∫—Ä–∞—Å–æ—Ç—ã –∫–æ–∂–∏ –∏ –≤–æ–ª–æ—Å:**\n\n"
                            : "üíÖ **For skin and hair beauty:**\n\n";
                        break;
                    default:
                        productsList = [];
                }

                productsList.forEach(p => response += `‚Ä¢ **${p.name}** - ${p.short}\n`);
                
                if (productsList.length > 0) {
                    const tips = {
                        ru: {
                            sleep: "\nüí° **–°–æ–≤–µ—Ç:** –ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –ú–∞–≥–Ω–∏–π B6 –∑–∞ 1-2 —á–∞—Å–∞ –¥–æ —Å–Ω–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.",
                            immunity: "\nüí° **–°–æ–≤–µ—Ç:** –í–∏—Ç–∞–º–∏–Ω—ã D3, C –∏ –¶–∏–Ω–∫ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –≤ –º–µ–∂—Å–µ–∑–æ–Ω—å–µ!",
                            energy: "\nüí° **–°–æ–≤–µ—Ç:** B-–∫–æ–º–ø–ª–µ–∫—Å –ª—É—á—à–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É—Ç—Ä–æ–º –¥–ª—è –∑–∞—Ä—è–¥–∞ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å.",
                            brain: "\nüí° **–°–æ–≤–µ—Ç:** –ì–∏–Ω–∫–≥–æ –ë–∏–ª–æ–±–∞ –∏ –û–º–µ–≥–∞-3 —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ –≤–º–µ—Å—Ç–µ!",
                            beauty: "\nüí° **–°–æ–≤–µ—Ç:** –ö–æ–ª–ª–∞–≥–µ–Ω –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –Ω–∞—Ç–æ—â–∞–∫ –¥–ª—è –ª—É—á—à–µ–≥–æ —É—Å–≤–æ–µ–Ω–∏—è."
                        },
                        en: {
                            sleep: "\nüí° **Tip:** Take Magnesium B6 1-2 hours before sleep for best effect.",
                            immunity: "\nüí° **Tip:** Vitamins D3, C and Zinc are essential base during season changes!",
                            energy: "\nüí° **Tip:** Take B-Complex in morning for all-day energy boost.",
                            brain: "\nüí° **Tip:** Ginkgo Biloba and Omega-3 work better together!",
                            beauty: "\nüí° **Tip:** Take Collagen on empty stomach for better absorption."
                        }
                    };

                    response += detectedLang === 'ru' ? tips.ru[category] || "" : tips.en[category] || "";
                    return response;
                }
            }

            // --- –£–õ–£–ß–®–ï–ù–ù–´–ô –û–¢–í–ï–¢ –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ ---
            
            if (detectedLang === 'ru') {
                if (normalizedMessage.length > 3) {
                    return "ü§î **–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å!**\n\n–Ø —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞:\n‚Ä¢ üí§ **–°–æ–Ω –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ**\n‚Ä¢ üß† **–ü–∞–º—è—Ç—å –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è**\n‚Ä¢ ‚ö° **–≠–Ω–µ—Ä–≥–∏—è –∏ —Ç–æ–Ω—É—Å**\n‚Ä¢ üõ°Ô∏è **–ò–º–º—É–Ω–∏—Ç–µ—Ç –∏ –∑–∞—â–∏—Ç–∞**\n‚Ä¢ üíÖ **–ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥**\n\n–ù–∞–ø–∏—à–∏—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: '–∏–º–º—É–Ω–∏—Ç–µ—Ç' –∏–ª–∏ '—Å–æ–Ω –∏ —ç–Ω–µ—Ä–≥–∏—è'";
                }
                return "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã –ß–µ–º —è –º–æ–≥—É –ø–æ–º–æ—á—å? –°–ø—Ä–æ—Å–∏—Ç–µ –æ –≤–∏—Ç–∞–º–∏–Ω–∞—Ö –¥–ª—è —Å–Ω–∞, —ç–Ω–µ—Ä–≥–∏–∏, –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞ –∏–ª–∏ –∫—Ä–∞—Å–æ—Ç—ã!";
            } else {
                if (normalizedMessage.length > 3) {
                    return "ü§î **Please clarify your request!**\n\nI specialize in:\n‚Ä¢ üí§ **Sleep and relaxation**\n‚Ä¢ üß† **Memory and focus**\n‚Ä¢ ‚ö° **Energy and vitality**\n‚Ä¢ üõ°Ô∏è **Immunity and protection**\n‚Ä¢ üíÖ **Beauty and care**\n\nWrite, for example: 'immunity' or 'sleep and energy'";
                }
                return "Hello! üëã How can I help? Ask about vitamins for sleep, energy, immunity or beauty!";
            }
        }

        // --- –£–õ–£–ß–®–ï–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–û–û–ë–©–ï–ù–ò–Ø–ú–ò ---

        function addMessage(text, type = 'bot') {
            if (!chatMessages) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            
            let htmlText = text;
            
            if (type === 'user') {
                htmlText = `<strong>${lastLanguage === 'ru' ? '–í—ã' : 'You'}:</strong> ${text}`;
            } else if (type === 'error') {
                htmlText = `<strong>${lastLanguage === 'ru' ? '–û—à–∏–±–∫–∞' : 'Error'}:</strong> ${text}`;
            } else {
                htmlText = `<strong>${lastLanguage === 'ru' ? '–ë–æ—Ç' : 'Bot'}:</strong> ${text.replace(/\n/g, '<br>')}`;
            }
            
            messageDiv.innerHTML = htmlText;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function sendMessage() {
            if (!chatInput || !chatSend || !chatMessages) return;

            const userMessage = chatInput.value.trim();
            if (!userMessage) return;

            addMessage(userMessage, 'user');
            chatInput.value = '';
            chatSend.disabled = true;

            const typingIndicator = document.createElement('div');
            typingIndicator.id = 'typing-indicator';
            typingIndicator.className = 'message bot-message';
            
            // –£–ú–ù–û–ï –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –Ø–ó–´–ö–ê –î–õ–Ø –ò–ù–î–ò–ö–ê–¢–û–†–ê –ü–ï–ß–ê–¢–ò
            const userLang = detectLanguage(userMessage);
            const typingText = userLang === 'ru' ? '–Ω–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ...' : 'typing...';
            typingIndicator.innerHTML = `<strong>${userLang === 'ru' ? '–ë–æ—Ç' : 'Bot'}:</strong> <em>${typingText}</em>`;
            
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            setTimeout(() => {
                document.getElementById('typing-indicator')?.remove();
                
                const aiResponse = getAIResponse(userMessage);
                addMessage(aiResponse, 'bot');
                chatSend.disabled = false;
            }, 1200);
        }
        
        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ß–ê–¢–ê ---
        if (chatSend && chatInput) {
            chatSend.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });
        } else {
            console.error("–ß–∞—Ç-–±–æ—Ç –Ω–µ —Å–º–æ–≥ –Ω–∞–π—Ç–∏ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã DOM.");
        }

        // –ê–≤—Ç–æ-—Ñ–æ–∫—É—Å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞
        if (chatInput) {
            chatInput.addEventListener('focus', () => {
                chatInput.placeholder = lastLanguage === 'ru' 
                    ? "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." 
                    : "Type your question...";
            });
        }
</script>

